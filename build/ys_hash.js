// Generated by CoffeeScript 1.7.1
(function() {
  var init_sum, to_base_str, ys_hash;
  init_sum = 8388617;
  to_base_str = function(num, base) {
    var s, sign, str, symbols;
    if (base == null) {
      base = 70;
    }

    /*
    			The num should be an int. The base's range is [2, 70].
     */
    symbols = "0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ-._!'()*".split('');
    str = '';
    sign = '';
    if (num < 0) {
      sign = '-';
      num *= -1;
    }
    while (num >= base) {
      s = num % base;
      str = symbols[s] + str;
      num = (num - s) / base;
    }
    str = sign + symbols[num] + str;
    return str;
  };
  ys_hash = {
    hash_arr: function(arr) {
      var h, i, _i, _len;
      h = init_sum;
      for (_i = 0, _len = arr.length; _i < _len; _i++) {
        i = arr[_i];
        h = ((h << 1 | h >>> 30) & 0x7fffffff) ^ i;
      }
      return to_base_str(h);
    },
    hash_str: function(str) {
      var h, i, len;
      h = init_sum;
      i = 0;
      len = str.length;
      while (i < len) {
        h = ((h << 1 | h >>> 30) & 0x7fffffff) ^ str.charCodeAt(i++);
      }
      return to_base_str(h);
    }
  };
  if (typeof module === 'undefined') {
    return window.ys_hash = ys_hash;
  } else {
    return module.exports = ys_hash;
  }
})();
